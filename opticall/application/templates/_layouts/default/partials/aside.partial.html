<aside class="sidenav navbar navbar-vertical navbar-expand-xs fixed-start bg-white" id="sidenav-main">
    <div class="sidenav-header">
        <i class="fas fa-times p-3 cursor-pointer text-dark opacity-5 position-absolute end-0 top-0 d-none d-xl-none"
            aria-hidden="true" id="iconSidenav"></i>
        <a class="navbar-brand px-4 py-3 m-0" href="{{ url_for('home.index') }}">
            <img src="{{ url_for('static', filename='assets/img/icon.svg') }}" class="navbar-brand-img" width="26"
                height="26" alt="main_logo" />
            <span class="ms-1 text-sm text-dark">OptiCall WFM</span>
        </a>
    </div>
    <hr class="horizontal dark mt-0 mb-2" />
    <div class="collapse navbar-collapse w-auto h-auto" id="sidenav-collapse-main">
        <ul class="navbar-nav">

            <li class="nav-item mb-2 mt-0">
                <a data-bs-toggle="collapse" href="#ProfileNav" class="nav-link text-dark"
                    aria-controls="ProfileNav" role="button" aria-expanded="false">
                    <img src="{{ url_for('shared.dynamic_avatar') }}"  class="avatar" />
                    <span class="nav-link-text ms-2 ps-1"> current_user.username </span>  <!-- Assuming current_user is available -->
                </a>
                <div class="collapse" id="ProfileNav" style="">
                    <ul class="nav">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('auth.users') }}">
                                <span class="sidenav-mini-icon"> MP </span>
                                <span class="sidenav-normal ms-3 ps-1"> My Profile </span>
                            </a>
                        </li>
                        <!--  if current_user.is_admin   Example: Only show to admins -->
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('auth.users') }}">
                                <span class="sidenav-mini-icon"> UM </span>
                                <span class="sidenav-normal ms-3 ps-1"> Manage Users </span>
                            </a>
                        </li>
                        <!--  endif  -->
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('auth.logout') }}">
                                <span class="sidenav-mini-icon"> L </span>
                                <span class="sidenav-normal ms-3 ps-1"> Logout </span>
                            </a>
                        </li>
                    </ul>
                </div>
            </li>
            <hr class="horizontal dark mt-0" />

            <li class="nav-item">
                <a class="nav-link text-dark" href="{{ url_for('home.index') }}">
                    <i class="material-symbols-rounded opacity-5">space_dashboard</i>
                    <span class="nav-link-text ms-1 ps-1">Dashboard</span>
                </a>
            </li>

            <li class="nav-item">
                <a data-bs-toggle="collapse" href="#forecastingMenu" class="nav-link text-dark"
                    aria-controls="forecastingMenu" role="button" aria-expanded="false">
                    <i class="material-symbols-rounded opacity-5">analytics</i>
                    <span class="nav-link-text ms-1 ps-1">Forecasting</span>
                </a>
                <div class="collapse" id="forecastingMenu">
                    <ul class="nav">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('forecasting.upload') }}">
                                <span class="sidenav-mini-icon"> U </span>
                                <span class="sidenav-normal ms-1 ps-1">Upload Data</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('forecasting.configure') }}">
                                <span class="sidenav-mini-icon"> C </span>
                                <span class="sidenav-normal ms-1 ps-1">Configure Model</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('forecasting.forecast') }}">
                                <span class="sidenav-mini-icon"> R </span>
                                <span class="sidenav-normal ms-1 ps-1">Results</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </li>

            <li class="nav-item">
                <a data-bs-toggle="collapse" href="#schedulingMenu" class="nav-link text-dark"
                    aria-controls="schedulingMenu" role="button" aria-expanded="false">
                    <i class="material-symbols-rounded opacity-5">schedule</i>
                    <span class="nav-link-text ms-1 ps-1">Scheduling</span>
                </a>
                <div class="collapse" id="schedulingMenu">
                    <ul class="nav">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('schedule.rules') }}">
                                <span class="sidenav-mini-icon"> R </span>
                                <span class="sidenav-normal ms-1 ps-1">Define Rules</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('schedule.generate') }}">
                                <span class="sidenav-mini-icon"> G </span>
                                <span class="sidenav-normal ms-1 ps-1">Generate Schedule</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('schedule.results') }}">
                                <span class="sidenav-mini-icon"> R </span>
                                <span class="sidenav-normal ms-1 ps-1">Scheduling Results</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('schedule.logs') }}">
                                <span class="sidenav-mini-icon"> L </span>
                                <span class="sidenav-normal ms-1 ps-1">Scheduling Logs</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </li>

            <li class="nav-item">
                <a data-bs-toggle="collapse" href="#shiftsMenu" class="nav-link text-dark"
                    aria-controls="shiftsMenu" role="button" aria-expanded="false">
                    <i class="material-symbols-rounded opacity-5">event</i>
                    <span class="nav-link-text ms-1 ps-1">Shifts</span>
                </a>
                <div class="collapse" id="shiftsMenu">
                    <ul class="nav">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('shifts.calendar') }}">
                                <span class="sidenav-mini-icon"> C </span>
                                <span class="sidenav-normal ms-1 ps-1">Calendar</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('shifts.request_shift') }}">
                                <span class="sidenav-mini-icon"> SR </span>
                                <span class="sidenav-normal ms-1 ps-1">Request Shift Change</span>
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('shifts.home') }}">
                                <span class="sidenav-mini-icon"> SR </span>
                                <span class="sidenav-normal ms-1 ps-1">Shifts</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </li>

            <li class="nav-item">
                <a data-bs-toggle="collapse" href="#monitoringMenu" class="nav-link text-dark"
                    aria-controls="monitoringMenu" role="button" aria-expanded="false">
                    <i class="material-symbols-rounded opacity-5">visibility</i>
                    <span class="nav-link-text ms-1 ps-1">Monitoring</span>
                </a>
                <div class="collapse" id="monitoringMenu">
                    <ul class="nav">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('monitoring.home') }}">
                                <span class="sidenav-mini-icon"> M </span>
                                <span class="sidenav-normal ms-1 ps-1">Real-Time Monitoring</span>
                            </a>
                        </li>
                         <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('monitoring.summary') }}">
                                <span class="sidenav-mini-icon"> S </span>
                                <span class="sidenav-normal ms-1 ps-1">Summary</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('monitoring.agents') }}">
                                <span class="sidenav-mini-icon"> A </span>
                                <span class="sidenav-normal ms-1 ps-1">Agent Status</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('monitoring.alerts') }}">
                                <span class="sidenav-mini-icon"> A </span>
                                <span class="sidenav-normal ms-1 ps-1">Alerts</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </li>
      
    <li class="nav-item">
                <a data-bs-toggle="collapse" href="#selfServiceMenu" class="nav-link text-dark"
                    aria-controls="selfServiceMenu" role="button" aria-expanded="false">
                    <i class="material-symbols-rounded opacity-5">self_improvement</i>
                    <span class="nav-link-text ms-1 ps-1">Self Service</span>
                </a>
                <div class="collapse" id="selfServiceMenu">
                    <ul class="nav">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('self_service.home') }}">
                                <span class="sidenav-mini-icon"> V </span>
                                <span class="sidenav-normal ms-1 ps-1">View Profile</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('self_service.schedule') }}">
                                <span class="sidenav-mini-icon"> S </span>
                                <span class="sidenav-normal ms-1 ps-1">My Schedule</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('self_service.request_shift') }}">
                                <span class="sidenav-mini-icon"> SR </span>
                                <span class="sidenav-normal ms-1 ps-1">Request Time Off</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('self_service.info') }}">
                                <span class="sidenav-mini-icon"> S </span>
                                <span class="sidenav-normal ms-1 ps-1">Info</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </li>

            <li class="nav-item">
                <a data-bs-toggle="collapse" href="#reportsMenu" class="nav-link text-dark"
                    aria-controls="reportsMenu" role="button" aria-expanded="false">
                    <i class="material-symbols-rounded opacity-5">assessment</i>
                    <span class="nav-link-text ms-1 ps-1">Reports</span>
                </a>
                <div class="collapse" id="reportsMenu">
                    <ul class="nav">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('reports.home') }}">
                                <span class="sidenav-mini-icon"> G </span>
                                <span class="sidenav-normal ms-1 ps-1">Reports</span>
                            </a>
                        </li>
                      
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('reports.kpi') }}">
                                <span class="sidenav-mini-icon"> K </span>
                                <span class="sidenav-normal ms-1 ps-1">KPI Reports</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="{{ url_for('reports.export') }}">
                                <span class="sidenav-mini-icon"> E </span>
                                <span class="sidenav-normal ms-1 ps-1">Export Data</span>
                            </a>
                        </li>

                    </ul>
                </div>
            </li>

           <li class="nav-item">
                <hr class="horizontal dark" />
                <h6 class="ps-3 ms-2 text-uppercase text-xs font-weight-bolder text-dark">
                    DOCS
                </h6>
            </li>
        </ul>
    </div>
</aside>